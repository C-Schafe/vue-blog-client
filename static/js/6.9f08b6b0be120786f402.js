webpackJsonp([6],{epW7:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=e("Dd8w"),n=e.n(o),s=e("ZYmg"),i=(e("Cz8s"),e("mzkE"),e("NYxO"));window.blog=s.a;var r={name:"HelloWorld",data:function(){return{blogs:[],page:"",total:null,totalPage:""}},created:function(){var t=this;this.page=parseInt(this.$route.query.page)||1,s.a.getIndexBlogs({page:this.page}).then(function(a){t.page=a.page,t.total=a.total,t.totalPage=a.totalPage,t.blogs=a.data,console.log(t.blogs,"首页")})},mounted:function(){this.onShow()},computed:n()({},Object(i.c)(["showHeaderAndFooter"])),methods:n()({},Object(i.d)(["show","hide"]),{onShow:function(){this.show()},onHide:function(){this.hide()},onPageChange:function(t){var a=this;s.a.getIndexBlogs({page:t}).then(function(e){console.log(e),a.page=e.page,a.total=e.total,a.totalPage=e.totalPage,a.blogs=e.data,console.log(a.blogs),a.$router.push({path:"/",query:{page:t}})})},randomPicNum:function(){return 1+Math.round(12*Math.random())}})},l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"index"}},[e("section",{staticClass:"blog-posts"},t._l(t.blogs,function(a){return e("div",{key:a.id,staticClass:"item",attrs:{to:"/detail/"+a.id}},[e("router-link",{staticClass:"avatar",attrs:{to:"/user/"+a.user.id}},[e("figure",[e("img",{attrs:{src:"http://pf5avane2.bkt.clouddn.com/"+t.randomPicNum()+".jpg",alt:a.user.username}}),t._v(" "),e("figcaption",[t._v(t._s(a.user.username))])])]),t._v(" "),e("router-link",{staticClass:"title",attrs:{to:"/detail/"+a.id}},[e("h3",[t._v(t._s(a.title)),e("span",[t._v(t._s(t.formatDate(a.updatedAt)))])])]),t._v(" "),e("p",{staticClass:"description"},[t._v(t._s(a.description))])],1)})),t._v(" "),e("section",{staticClass:"pagination"},[e("el-pagination",{attrs:{"pager-count":6,"current-page":this.page,background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.onPageChange}})],1)])},staticRenderFns:[]};var u=e("VU/8")(r,l,!1,function(t){e("k4Tz")},"data-v-3a213396",null);a.default=u.exports},k4Tz:function(t,a){}});
//# sourceMappingURL=6.9f08b6b0be120786f402.js.map